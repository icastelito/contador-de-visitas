<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Exemplos de Tags Customizadas - Contador de Visitas</title>
		<style>
			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				max-width: 1200px;
				margin: 0 auto;
				padding: 40px 20px;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: #333;
			}
			.container {
				background: white;
				border-radius: 12px;
				padding: 40px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
			}
			h1 {
				color: #667eea;
				margin-top: 0;
			}
			h2 {
				color: #555;
				margin-top: 40px;
				border-bottom: 2px solid #667eea;
				padding-bottom: 10px;
			}
			.example-section {
				margin: 30px 0;
				padding: 20px;
				background: #f9f9f9;
				border-radius: 8px;
				border-left: 4px solid #667eea;
			}
			.badge-preview {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				margin: 20px 0;
				padding: 15px 25px;
				background: white;
				border: 2px solid #e0e0e0;
				border-radius: 8px;
				font-size: 18px;
				font-weight: 600;
			}
			.badge-preview.style1 {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
			}
			.badge-preview.style2 {
				background: #2c3e50;
				color: #ecf0f1;
				border: none;
				font-family: "Courier New", monospace;
			}
			.badge-preview.style3 {
				background: white;
				color: #333;
				border: 3px dashed #667eea;
			}
			.badge-preview.style4 {
				background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
				color: white;
				border-radius: 20px;
				box-shadow: 0 5px 20px rgba(245, 87, 108, 0.4);
			}
			.badge-preview.style5 {
				background: #27ae60;
				color: white;
				border-radius: 4px;
				text-transform: uppercase;
				font-size: 14px;
				letter-spacing: 1px;
			}
			.badge-preview.style6 {
				background: #f39c12;
				color: white;
				border-radius: 50px;
				padding: 10px 30px;
				font-size: 16px;
			}
			pre {
				background: #2d2d2d;
				color: #f8f8f2;
				padding: 20px;
				border-radius: 8px;
				overflow-x: auto;
				font-size: 14px;
				line-height: 1.6;
			}
			code {
				font-family: "Courier New", monospace;
			}
			.info-box {
				background: #e3f2fd;
				border-left: 4px solid #2196f3;
				padding: 15px;
				margin: 20px 0;
				border-radius: 4px;
			}
			.warning-box {
				background: #fff3cd;
				border-left: 4px solid #ffc107;
				padding: 15px;
				margin: 20px 0;
				border-radius: 4px;
			}
			.endpoint {
				background: #f5f5f5;
				padding: 10px 15px;
				border-radius: 5px;
				font-family: monospace;
				margin: 10px 0;
				display: inline-block;
			}
			.grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 20px;
				margin: 20px 0;
			}
			.card {
				background: white;
				border: 2px solid #e0e0e0;
				border-radius: 8px;
				padding: 20px;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>üé® Crie Suas Pr√≥prias Tags Customizadas</h1>

			<div class="info-box">
				<strong>üí° Nova Funcionalidade!</strong><br />
				Agora voc√™ pode criar tags 100% customizadas com seu pr√≥prio design (HTML/CSS/JS) e usar nossa API
				apenas para buscar e exibir o n√∫mero de visitas.
			</div>

			<h2>üìä Endpoints Dispon√≠veis</h2>

			<div class="example-section">
				<h3>1. Apenas Leitura (sem tracking)</h3>
				<div class="endpoint">GET /api/count/:siteId</div>
				<p>Retorna o contador sem registrar visita nova.</p>

				<strong>Formatos dispon√≠veis:</strong>
				<ul>
					<li><code>?format=json</code> - JSON completo (padr√£o)</li>
					<li><code>?format=text</code> - Apenas o n√∫mero (ex: 1234)</li>
					<li><code>?format=formatted</code> - N√∫mero formatado (ex: 1.2K)</li>
				</ul>

				<strong>Exemplos:</strong>
				<pre><code>// JSON completo
fetch('http://localhost:3000/api/count/meu-site')
  .then(r => r.json())
  .then(data => console.log(data));
// { totalVisits: 1234, uniqueVisits: 567 }

// Apenas o n√∫mero
fetch('http://localhost:3000/api/count/meu-site?format=text')
  .then(r => r.text())
  .then(count => console.log(count));
// "1234"

// N√∫mero formatado
fetch('http://localhost:3000/api/count/meu-site?format=formatted')
  .then(r => r.text())
  .then(count => console.log(count));
// "1.2K"</code></pre>
			</div>

			<div class="example-section">
				<h3>2. Incrementar + Retornar (tracking autom√°tico)</h3>
				<div class="endpoint">GET /api/count/:siteId/increment</div>
				<p>Registra a visita E retorna o contador atualizado (tudo em uma chamada).</p>

				<strong>Mesmos formatos dispon√≠veis + suporte a cookies!</strong>

				<strong>Exemplo:</strong>
				<pre><code>// Incrementa e retorna o novo valor
fetch('http://localhost:3000/api/count/meu-site/increment?format=formatted', {
  credentials: 'include' // Importante para cookies
})
  .then(r => r.text())
  .then(count => {
    document.getElementById('contador').textContent = count;
  });</code></pre>
			</div>

			<h2>üé® Exemplos de Tags Customizadas</h2>

			<div class="grid">
				<div class="card">
					<h3>Estilo 1: Gradiente</h3>
					<div class="badge-preview style1">üëÅÔ∏è <span id="count1">0</span> visitas</div>
					<pre><code>&lt;div style="display: inline-flex; 
  align-items: center; padding: 15px 25px;
  background: linear-gradient(135deg, 
    #667eea 0%, #764ba2 100%);
  color: white; border-radius: 8px;
  box-shadow: 0 4px 15px rgba(102,126,234,0.4);
  font-weight: 600;"&gt;
  üëÅÔ∏è &lt;span id="contador"&gt;0&lt;/span&gt; visitas
&lt;/div&gt;

&lt;script&gt;
fetch('/api/count/meu-site/increment?format=text')
  .then(r => r.text())
  .then(n => document.getElementById('contador').textContent = n);
&lt;/script&gt;</code></pre>
				</div>

				<div class="card">
					<h3>Estilo 2: Terminal</h3>
					<div class="badge-preview style2">$ visitors: <span id="count2">0</span></div>
					<pre><code>&lt;div style="background: #2c3e50; 
  color: #ecf0f1; padding: 15px 25px;
  border-radius: 8px;
  font-family: 'Courier New', monospace;"&gt;
  $ visitors: &lt;span id="contador"&gt;0&lt;/span&gt;
&lt;/div&gt;</code></pre>
				</div>

				<div class="card">
					<h3>Estilo 3: Minimalista</h3>
					<div class="badge-preview style3"><span id="count3">0</span> views</div>
					<pre><code>&lt;div style="background: white; 
  color: #333; padding: 15px 25px;
  border: 3px dashed #667eea;
  border-radius: 8px; font-weight: 600;"&gt;
  &lt;span id="contador"&gt;0&lt;/span&gt; views
&lt;/div&gt;</code></pre>
				</div>

				<div class="card">
					<h3>Estilo 4: Moderno</h3>
					<div class="badge-preview style4">üìä <span id="count4">0</span></div>
					<pre><code>&lt;div style="background: linear-gradient(45deg, 
    #f093fb 0%, #f5576c 100%);
  color: white; padding: 15px 25px;
  border-radius: 20px;
  box-shadow: 0 5px 20px rgba(245,87,108,0.4);
  font-weight: 600;"&gt;
  üìä &lt;span id="contador"&gt;0&lt;/span&gt;
&lt;/div&gt;</code></pre>
				</div>

				<div class="card">
					<h3>Estilo 5: GitHub</h3>
					<div class="badge-preview style5">VISITORS: <span id="count5">0</span></div>
					<pre><code>&lt;div style="background: #27ae60; 
  color: white; padding: 10px 20px;
  border-radius: 4px; text-transform: uppercase;
  font-size: 14px; letter-spacing: 1px;"&gt;
  VISITORS: &lt;span id="contador"&gt;0&lt;/span&gt;
&lt;/div&gt;</code></pre>
				</div>

				<div class="card">
					<h3>Estilo 6: Pill</h3>
					<div class="badge-preview style6">üî• <span id="count6">0</span>+</div>
					<pre><code>&lt;div style="background: #f39c12; 
  color: white; padding: 10px 30px;
  border-radius: 50px; font-weight: 600;"&gt;
  üî• &lt;span id="contador"&gt;0&lt;/span&gt;+
&lt;/div&gt;</code></pre>
				</div>
			</div>

			<h2>üöÄ Exemplo Completo com Anima√ß√£o</h2>

			<div class="example-section">
				<div style="text-align: center; padding: 30px">
					<div
						id="contador-animado"
						style="
							display: inline-flex;
							align-items: center;
							justify-content: center;
							padding: 20px 40px;
							background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
							color: white;
							border-radius: 12px;
							box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
							font-size: 24px;
							font-weight: 700;
							transition: transform 0.3s ease;
						"
					>
						<span style="margin-right: 10px">üë•</span>
						<span id="count-animated">0</span>
						<span style="margin-left: 10px; font-size: 18px; opacity: 0.9">visitantes</span>
					</div>
				</div>

				<pre><code>&lt;!-- HTML --&gt;
&lt;div id="contador-animado" style="
  display: inline-flex; align-items: center;
  padding: 20px 40px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white; border-radius: 12px;
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  font-size: 24px; font-weight: 700;
  transition: transform 0.3s ease;"&gt;
  &lt;span style="margin-right: 10px;"&gt;üë•&lt;/span&gt;
  &lt;span id="contador"&gt;0&lt;/span&gt;
  &lt;span style="margin-left: 10px; font-size: 18px; opacity: 0.9;"&gt;
    visitantes
  &lt;/span&gt;
&lt;/div&gt;

&lt;!-- JavaScript com anima√ß√£o --&gt;
&lt;script&gt;
async function atualizarContador() {
  try {
    // Incrementa e busca o valor
    const response = await fetch(
      'http://localhost:3000/api/count/meu-site/increment?format=text',
      { credentials: 'include' }
    );
    const novoValor = await response.text();
    const elemento = document.getElementById('contador');
    const valorAtual = parseInt(elemento.textContent) || 0;
    
    // Anima o contador
    animarNumero(elemento, valorAtual, parseInt(novoValor));
    
    // Efeito visual
    const container = document.getElementById('contador-animado');
    container.style.transform = 'scale(1.1)';
    setTimeout(() => {
      container.style.transform = 'scale(1)';
    }, 300);
    
  } catch (error) {
    console.error('Erro ao atualizar contador:', error);
  }
}

function animarNumero(elemento, inicio, fim) {
  const duracao = 1000; // 1 segundo
  const incremento = (fim - inicio) / (duracao / 16);
  let atual = inicio;
  
  const timer = setInterval(() => {
    atual += incremento;
    if ((incremento > 0 && atual >= fim) || 
        (incremento < 0 && atual <= fim)) {
      elemento.textContent = fim;
      clearInterval(timer);
    } else {
      elemento.textContent = Math.floor(atual);
    }
  }, 16);
}

// Atualizar ao carregar a p√°gina
atualizarContador();

// Atualizar a cada 30 segundos (opcional)
setInterval(() => {
  fetch('http://localhost:3000/api/count/meu-site?format=text')
    .then(r => r.text())
    .then(n => document.getElementById('contador').textContent = n);
}, 30000);
&lt;/script&gt;</code></pre>
			</div>

			<h2>‚ö° Integra√ß√£o com Frameworks</h2>

			<div class="example-section">
				<h3>React</h3>
				<pre><code>import { useEffect, useState } from 'react';

function ContadorVisitas({ siteId }) {
  const [count, setCount] = useState(0);

  useEffect(() => {
    // Incrementa e busca valor
    fetch(`/api/count/${siteId}/increment?format=text`, {
      credentials: 'include'
    })
      .then(r => r.text())
      .then(n => setCount(n));

    // Atualiza a cada 30s
    const interval = setInterval(async () => {
      const response = await fetch(`/api/count/${siteId}?format=text`);
      const newCount = await response.text();
      setCount(newCount);
    }, 30000);

    return () => clearInterval(interval);
  }, [siteId]);

  return (
    &lt;div style={{
      display: 'inline-flex',
      alignItems: 'center',
      padding: '15px 25px',
      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      color: 'white',
      borderRadius: '8px',
      fontWeight: 600
    }}&gt;
      üëÅÔ∏è {count} visitas
    &lt;/div&gt;
  );
}</code></pre>
			</div>

			<div class="example-section">
				<h3>Vue.js</h3>
				<pre><code>&lt;template&gt;
  &lt;div class="contador"&gt;
    üëÅÔ∏è {{ count }} visitas
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      count: 0,
      siteId: 'meu-site'
    }
  },
  async mounted() {
    // Incrementa e busca valor
    const response = await fetch(
      `/api/count/${this.siteId}/increment?format=text`,
      { credentials: 'include' }
    );
    this.count = await response.text();

    // Atualiza a cada 30s
    setInterval(async () => {
      const res = await fetch(`/api/count/${this.siteId}?format=text`);
      this.count = await res.text();
    }, 30000);
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.contador {
  display: inline-flex;
  align-items: center;
  padding: 15px 25px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 8px;
  font-weight: 600;
}
&lt;/style&gt;</code></pre>
			</div>

			<h2>üéØ Dicas Importantes</h2>

			<div class="warning-box">
				<strong>‚ö†Ô∏è Cookies</strong><br />
				Para que os cookies funcionem corretamente, use <code>credentials: 'include'</code> no fetch.
				<br /><br />
				<strong>‚úÖ CORS:</strong> J√° est√° configurado para aceitar qualquer origem! N√£o precisa configurar nada.
			</div>

			<div class="info-box">
				<strong>üí° Performance</strong><br />
				- Use <code>/increment</code> apenas uma vez por p√°gina (no carregamento)<br />
				- Para atualiza√ß√µes em tempo real, use <code>/count</code> (sem incrementar)<br />
				- Adicione debounce se necess√°rio para evitar m√∫ltiplas chamadas
			</div>

			<div class="info-box">
				<strong>üé® Customiza√ß√£o Total</strong><br />
				Voc√™ tem controle 100% do design! Pode usar:<br />
				- Qualquer CSS framework (Tailwind, Bootstrap, etc.)<br />
				- Anima√ß√µes customizadas<br />
				- √çcones de bibliotecas (Font Awesome, Material Icons)<br />
				- Seu pr√≥prio tema/branding
			</div>
		</div>

		<script>
			// Atualizar todos os contadores de exemplo
			const siteId = "exemplo-custom";

			async function atualizarContadores() {
				try {
					const response = await fetch(`http://localhost:3000/api/count/${siteId}/increment?format=text`, {
						credentials: "include",
					});
					const count = await response.text();

					// Atualiza todos os exemplos
					for (let i = 1; i <= 6; i++) {
						const elem = document.getElementById(`count${i}`);
						if (elem) elem.textContent = count;
					}

					// Contador animado
					const elemAnimated = document.getElementById("count-animated");
					if (elemAnimated) {
						const valorAtual = parseInt(elemAnimated.textContent) || 0;
						animarNumero(elemAnimated, valorAtual, parseInt(count));

						const container = document.getElementById("contador-animado");
						container.style.transform = "scale(1.1)";
						setTimeout(() => {
							container.style.transform = "scale(1)";
						}, 300);
					}
				} catch (error) {
					console.error("Erro ao atualizar contadores:", error);
				}
			}

			function animarNumero(elemento, inicio, fim) {
				const duracao = 1000;
				const incremento = (fim - inicio) / (duracao / 16);
				let atual = inicio;

				const timer = setInterval(() => {
					atual += incremento;
					if ((incremento > 0 && atual >= fim) || (incremento < 0 && atual <= fim)) {
						elemento.textContent = fim;
						clearInterval(timer);
					} else {
						elemento.textContent = Math.floor(atual);
					}
				}, 16);
			}

			// Atualizar ao carregar
			atualizarContadores();

			// Atualizar a cada 30 segundos
			setInterval(async () => {
				const response = await fetch(`http://localhost:3000/api/count/${siteId}?format=text`);
				const count = await response.text();
				for (let i = 1; i <= 6; i++) {
					const elem = document.getElementById(`count${i}`);
					if (elem) elem.textContent = count;
				}
				document.getElementById("count-animated").textContent = count;
			}, 30000);
		</script>
	</body>
</html>
